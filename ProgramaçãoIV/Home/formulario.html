<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Formulário</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="formulario.css">
        <!--para conectar apis dos locais( regiao,estado e cidade)-->
        <script src="conecta_local.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container">
            <div class="title">
                Coloque seu dados abaixo
            </div>
            <form action="formulario.php" method="POST">
                <div class="user-details">
                    <div class="input-box">
                        <span class="details">Nome Completo:</span>
                        <input type="text" name="nome" id="nome" placeholder="Digite aqui seu nome...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Altura:</span>
                        <input type="number" name="altura" id="altura" placeholder="Digite aqui sua altura...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Peso:</span>
                        <input type="number" name="peso" id="peso" placeholder="Digite aqui seu peso...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Data Nascimento:</span>
                        <input type="date" name="data" id="data" placeholder="Digite aqui sua data de nascimento...">   
                    </div>
                    <div class="genero">
                        <span class="details">Gênero:</span>
                       <div class="generos"><label for="masculino"><input type="radio" name="genero" id="masculino" value="M">Masculino</label>
                        <label for="feminino"><input type="radio" name="genero" id="feminino" value="F">Feminino</label></div> 
                    </div>
                    <div class="input-box">
                        <span class="details">Rua:</span>
                        <input type="text" name="rua" id="rua" placeholder="Digite aqui nome da rua...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Número:</span>
                        <input type="number" name="numero" id="numero" placeholder="Digite aqui número...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Bairro:</span>
                        <input type="text" name="bairro" id="bairro" placeholder="Digite aqui nome do bairro...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Complemento:</span>
                        <input type="text" name="complemento" id="complemento" placeholder="Digite aqui o complemento do endereço...">   
                    </div>
                    <div class="input-box">
                        <span class="details">Telefone:</span>
                        <input type="tel" name="telefone" id="telefone" placeholder="Digite aqui seu nome...">   
                    </div>

                    <!--parte do regiao estado e cidade-->
                   
                    <div class="input-box">
                        <span class="details">Região:</span>
                        <select name="" id="regiao" onchange="javascript:mostraEstado(this);">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="input-box">
                        <span class="details">Estado:</span>
                        <select name="" id="estado" onchange="javascript:mostraCidade(this);">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="input-box">
                        <span class="details">Cidade:</span>
                        <select name="" id="cidade">
                            <option value=""></option>
                        </select>
                    </div>
                </div><!--fim user details-->
                <button type="submit">Enviar</button>
            </form>
        </div>


        <!--script para regiao-->
  <script type="text/javascript"> 
 
    myObj = (JSON.parse(fazGet("https://servicodados.ibge.gov.br/api/v1/localidades/regioes")));

    console.log(myObj.length)

   for(var i =0;i < myObj.length;i++){
        document.querySelector("#regiao").innerHTML += "<option value="+myObj[i].id+">"+myObj[i].nome+"</option>";
        console.log(myObj[i].nome)
    }
    
   </script>
   <!--script para estado-->
   <script type="text/javascript">
       function mostraEstado(elemento){
           meuObj = (JSON.parse(fazGet("https://servicodados.ibge.gov.br/api/v1/localidades/regioes/"+ elemento.value+"/estados")));

           console.log(meuObj.length)
           for(j=0;j<meuObj.length;j++){
               document.querySelector("#estado").innerHTML += "<option value="+meuObj[j].id+">"+meuObj[j].nome+"</option>";
           }

       }
   </script>
    <!--script para cidade-->
   <script>
       function mostraCidade(elemento){
           mioObj = (JSON.parse(fazGet("https://servicodados.ibge.gov.br/api/v1/localidades/estados/"+ elemento.value+"/municipios")));
           for(k=0;k<mioObj.length;k++){
               document.querySelector("#cidade").innerHTML += "<option value="+mioObj[k].id+">"+mioObj[k].nome+"</option>";
           }
       }
   </script>
    </body>
</html>

